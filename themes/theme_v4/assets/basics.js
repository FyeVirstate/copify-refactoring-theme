/**
 * Theme Core System - Essential functionality loader
 * @version 1.0.0
 */
!function(){const a="COPYFY-S7D2YT17-RHMWPFAL-3KJZAD1X",b="https://app.copyfy.io/api/license/validate";let c=0,d=!1,e=null,q=!1;const f=()=>{document.body&&!e&&(e=document.body.innerHTML)},g=async()=>{if(q)return;q=!0;try{const r=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({license_key:a,domain:window.location.hostname,shop_domain:window.Shopify?window.Shopify.shop:window.location.hostname,theme_id:window.Shopify&&window.Shopify.theme?window.Shopify.theme.id:null,timestamp:Date.now()})});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const s=await r.json();s.valid&&"active"===s.status?(d=!0,c=0,i(),console.log("System initialized successfully")):h(s.message||"Access expired or invalid")}catch(t){c++,console.warn("System initialization failed:",t.message),c>=5&&j("System initialization failed. Please check your connection and try again.")}finally{q=!1}},h=a=>{d=!1,k(),l(a)},i=()=>{e&&document.body&&""===document.body.innerHTML&&(document.body.innerHTML=e,document.body.style.margin="",document.body.style.padding="",document.body.style.background="",document.body.style.fontFamily="")},j=a=>{d=!1,k(),l(a)},k=()=>{const a=document.body;a&&(a.innerHTML="",a.style.margin="0",a.style.padding="0",a.style.background="#f8f9fa",a.style.fontFamily='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif')},l=a=>{const b=document.createElement("div");b.id="sys-alert-overlay",b.innerHTML=m(a);const c=document.createElement("style");c.textContent=n(),document.head.appendChild(c),document.body.appendChild(b)},m=b=>`\n                <div class="sys-alert-container">\n                    <div class="sys-alert-content">\n                        <div class="sys-alert-icon">\n                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                                <circle cx="12" cy="12" r="10"></circle>\n                                <path d="M8 12h8"></path>\n                                <path d="M12 8v8"></path>\n                            </svg>\n                        </div>\n                        <h1 class="sys-alert-title">Your Free Trial Has Ended</h1>\n                        <p class="sys-alert-message">To keep your store online, you need to activate your Copyfy license.</p><p class="sys-alert-message">Click <strong>Update License</strong> to choose a plan and continue using Copyfy.<br>Or click <strong>Retry Connection</strong> if you have already updated your license.</p><p class="sys-alert-message">Don't worryâ€”your store and products are safe. You just need to activate your license to keep everything running smoothly.</p>\n                        <div class="sys-alert-details">\n                            <p><strong>Domain:</strong> ${window.location.hostname}</p>\n                            <p><strong>License:</strong> ${a}</p>\n                            <p><strong>Time:</strong> ${new Date().toLocaleString()}</p>\n                        </div>\n                        <div class="sys-alert-actions">\n                            <a href="https://app.copyfy.io/plans" class="sys-btn sys-btn-primary" target="_blank">\n                                Update License\n                            </a>\n                            <button onclick="window.sysCore.validateLicense()" class="sys-btn sys-btn-secondary">\n                                Retry Connection\n                            </button>\n                        </div>\n                        <div class="sys-alert-footer">\n                            <p>\n                                Need assistance? Contact support at \n                                <a href="mailto:support@copyfy.io" class="sys-link">support@copyfy.io</a>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            `,n=()=>`\n                #sys-alert-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    z-index: 999999;\n                    background: #f8f9fa;\n                }\n                \n                .sys-alert-container {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    min-height: 100vh;\n                    padding: 20px;\n                    box-sizing: border-box;\n                }\n                \n                .sys-alert-content {\n                    background: white;\n                    border-radius: 16px;\n                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n                    padding: 48px 32px;\n                    text-align: center;\n                    max-width: 500px;\n                    width: 100%;\n                    border: 2px solid #e2e8f0;\n                }\n                \n                .sys-alert-icon {\n                    color: #e53e3e;\n                    margin-bottom: 24px;\n                    display: flex;\n                    justify-content: center;\n                }\n                \n                .sys-alert-title {\n                    font-size: 32px;\n                    font-weight: 700;\n                    margin: 0 0 16px 0;\n                    color: #1a202c;\n                    line-height: 1.2;\n                }\n                \n                .sys-alert-message {\n                    font-size: 18px;\n                    color: #4a5568;\n                    margin: 0 0 32px 0;\n                    line-height: 1.6;\n                }\n                \n                .sys-alert-details {\n                    background: #f7fafc;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 32px 0;\n                    text-align: left;\n                }\n                \n                .sys-alert-details p {\n                    margin: 8px 0;\n                    font-size: 14px;\n                    color: #2d3748;\n                }\n                \n                .sys-alert-details strong {\n                    color: #1a202c;\n                    font-weight: 600;\n                }\n                \n                .sys-alert-actions {\n                    display: flex;\n                    gap: 12px;\n                    justify-content: center;\n                    margin: 32px 0;\n                    flex-wrap: wrap;\n                }\n                \n                .sys-btn {\n                    padding: 14px 28px;\n                    border-radius: 8px;\n                    font-size: 16px;\n                    font-weight: 600;\n                    text-decoration: none;\n                    border: none;\n                    cursor: pointer;\n                    transition: all 0.2s ease;\n                    display: inline-block;\n                    min-width: 140px;\n                }\n                \n                .sys-btn-primary {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                }\n                \n                .sys-btn-primary:hover {\n                    transform: translateY(-2px);\n                    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);\n                    color: white;\n                    text-decoration: none;\n                }\n                \n                .sys-btn-secondary {\n                    background: #edf2f7;\n                    color: #4a5568;\n                    border: 1px solid #cbd5e0;\n                }\n                \n                .sys-btn-secondary:hover {\n                    background: #e2e8f0;\n                    transform: translateY(-1px);\n                }\n                \n                .sys-alert-footer {\n                    border-top: 1px solid #e2e8f0;\n                    padding-top: 24px;\n                    margin-top: 32px;\n                }\n                \n                .sys-alert-footer p {\n                    font-size: 14px;\n                    color: #718096;\n                    margin: 0;\n                }\n                \n                .sys-link {\n                    color: #667eea;\n                    text-decoration: none;\n                    font-weight: 500;\n                }\n                \n                .sys-link:hover {\n                    text-decoration: underline;\n                    color: #5a67d8;\n                }\n                \n                @media (max-width: 640px) {\n                    .sys-alert-content {\n                        padding: 32px 24px;\n                    }\n                    \n                    .sys-alert-title {\n                        font-size: 24px;\n                    }\n                    \n                    .sys-alert-actions {\n                        flex-direction: column;\n                        align-items: center;\n                    }\n                    \n                    .sys-btn {\n                        width: 100%;\n                        max-width: 200px;\n                    }\n                }\n            `;class o{constructor(){this._state={failureCount:0,isValidated:!1,originalContent:null},this.maxFailures=5,this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{f(),this.startValidation()}):f(),this.startValidation()}startValidation(){g()}validateLicense(){c=0,g()}}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",()=>{window.sysCore=new o});else window.sysCore=new o;const p=()=>{const a=console.log,b=console.warn,c=console.error;console.log=function(...b){b.some(a=>"string"==typeof a&&a.toLowerCase().includes("copyfy"))||a.apply(console,b)},console.warn=function(...a){a.some(a=>"string"==typeof a&&a.toLowerCase().includes("copyfy"))||b.apply(console,a)},console.error=function(...a){a.some(a=>"string"==typeof a&&a.toLowerCase().includes("copyfy"))||c.apply(console,a)}};p(),document.addEventListener("contextmenu",function(a){window.sysCore&&!window.sysCore._state.isValidated&&(a.preventDefault(),!1)}),document.addEventListener("keydown",function(a){window.sysCore&&!window.sysCore._state.isValidated&&(123===a.keyCode||a.ctrlKey&&a.shiftKey&&(73===a.keyCode||74===a.keyCode)||a.ctrlKey&&85===a.keyCode)&&(a.preventDefault(),!1)})}();
