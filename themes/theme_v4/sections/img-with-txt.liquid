{% schema %}
{ "name": "Image with text", "settings": [
  {"type": "header","content": "Style"},
    {"type": "select","id": "image_alignment","label": "Image alignment","options": [{"value": "left","label": "Left"},{"value": "right","label": "Right"}]},
     {"type": "header","content": "Media"},
    { "type": "video", "id": "video", "label": "Video" },
    { "type": "image_picker", "id": "image", "label": "Image" },
     { "type": "color_scheme", "id": "color_scheme", "label": "t:sections.all.colors.label", "default": "scheme-1" },
], "blocks": [{ "type": "title", "name": "Title", "settings": [
  { "type": "liquid", "id": "title", "label": "Title" }
] }, { "type": "paragraph", "name": "Paragraph", "settings": [
  { "type": "liquid", "id": "paragraph", "label": "Paragraph" }
] }, { "type": "button", "name": "Button", "settings": [
  { "type": "text", "id": "text", "label": "Button Label" },
  { "type": "url", "id": "link", "label": "Button Link" }
] }], "presets": [{ "name": "Image with text" }]}
{% endschema %}
{{ 'img-with-txt.css' | asset_url | stylesheet_tag }}
{%- capture image -%}
  <div class="media__layout_mgtxt">
    <div class="media__interior_mgtxt">
      {% if section.settings.video != blank %}
        {{ section.settings.video | video_tag: autoplay: true, muted: true, loop: true, controls: false, image_size: '1400x' }}
      {% elsif section.settings.image != blank %}
        {%- if section.settings.image contains '://' -%}
            {{ section.settings.image | image_url:width:800 | image_tag:preload:true,class:'img-with-txt-img' }}
        {%- else -%}
            <img src="{{ section.settings.image | asset_url }}" loading="eager" class="img-with-txt-img">
        {%- endif -%}
      {% endif %}
    </div>
  </div>
{%- endcapture -%}
{%- capture image_with_text -%}<div class="image_with_text__wrapper not_faq_mgtxt shopall-{{ section.id }} gradient color-{{ section.settings.color_scheme }}" data-section-type="img-with-txt" {% if section.settings.bg_color_enabled %}style="background-color:{{ section.settings.bg_color }}"{% endif %}>
  <div class="image_with_text_container page-width page-width--wide">
    {%- if section.settings.image_alignment == 'left' -%}{{- image -}}{%- endif -%}
    <div class="content_layout__mgtxt">
      <div class="content_interior__mgtxt">
      {%- for block in section.blocks -%}
        {%- if block.type == 'title' -%}
          {%- if block.settings.title != blank -%}<div class="mgtxt__title">{{ block.settings.title }}</div>{%- endif -%}
        {%- elsif block.type == 'paragraph' -%}
          {%- if block.settings.paragraph != blank -%}<div class="mgtxt__paragraph">{{ block.settings.paragraph }}</div>{%- endif -%} 
        {%- elsif block.type == 'button' -%}
          {%- if block.settings.text != blank -%}
            <div class="mgtxt__buttons">
              <a href="{{ block.settings.link }}">{{ block.settings.text }} <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none"><path d="M14.281 10.892H3.438V9.694H14.28L9.167 4.579 10 3.735l6.563 6.563L10 16.86l-.833-.843z" fill="#1F2322"/></svg></a>
            </div>{%- endif -%}         
        {%- endif -%}
      {%- endfor -%}
      </div>
    </div>
    {%- if section.settings.image_alignment == 'right' -%}{{- image -}}{%- endif -%}
  </div>
</div>{%- endcapture -%}{{- image_with_text | strip_newlines -}}


<style>
       .shopall-{{ section.id }} .mgtxt__title span {
     color: rgb(var(--color-sale-badge))!important;
      background: none;
    -webkit-text-fill-color: unset;
      
    }
    .shopall-{{ section.id }} {
      background: rgb(var(--color-innerHighlight))!important;
    }

    </style>