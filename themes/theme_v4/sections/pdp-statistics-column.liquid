{% schema %}
{"name": "Statistics columns","settings":[
    {"type": "header","content": "Header"},
    { "type": "color_scheme", "id": "color_scheme", "label": "t:sections.all.colors.label", "default": "scheme-1" },
 {"type":"liquid","id": "heading","label": "Heading","info": "Use <hig></hig> tag to show gradient text","default":"Notre impact <hig>Statistiques</hig>"},
    {"type":"liquid","id": "disclaimer","label": "Disclaimer","default":"* D'après des études internes et des enquêtes de satisfaction auprès des clients."},
    {"type": "header","content": "Media"},   
    {"type":"image_picker","id": "image","label": "Image"},
],"blocks": [{"type": "statistics","name":"Statistics","settings": [
    {"type": "text","id": "count","label": "Count","default":"98%"},
    {"type": "liquid","id": "title","label": "Title","default":"Clients satisfaits"},
    {"type": "liquid","id": "paragraph","label": "Paragraph","default":"Nos clients nous font confiance dans le monde entier"}
]}],"presets": [{"name": "Statistics columns - PDP","blocks": [{"type": "statistics"},{"type": "statistics"},{"type": "statistics"}]}], }
{% endschema %}
{{ 'pdp-statistics-column.css' | asset_url | stylesheet_tag }}
{%- capture image -%}
    <div class="pdp-statistics__column_image-container">
        {%- if section.settings.image != blank %}
        <div class="pdp-statistics__column_image">
            {%- if section.settings.image contains '://' -%}
                {{ section.settings.image | image_url:width:800 | image_tag:preload:true,class:'statistics-img' }}
            {%- else -%}
                <img src="{{ section.settings.image | asset_url }}" loading="eager" class="statistics-img">
            {%- endif -%}
        </div>
        {%- else -%}
        <div class="pdp-statistics__column_image">
            {{ 'collection-1' | placeholder_svg_tag }}
        </div>
        {% endif %}
    </div>
{%- endcapture -%}

<div class="pdp-statistics__column_mainwrapper col-pdp-{{ section.id }} gradient color-{{ section.settings.color_scheme }} {%if template == 'product.template-8'%}template8-custom{%endif %}" data-section-type="pdp-statistics-column">
    <div class="pdp-statistics__column_container {% if section.settings.image-description != blank or  section.settings.image-heading != blank %}contained{% endif %}">
        <div class="pdp-statistics__column_outer">
            <div class="pdp-statistics__column_interior">

                <div class="pdp-statistics__column_header onlyShowMob">
                    {%- if section.settings.heading != blank -%}<div class="pdp-statistics__column_heading style-hdng">{{ section.settings.heading }}</div>{%- endif -%}
                </div>

                <div class="pdp-statistics__column_content">

                    {{ image }}

                    <div class="pdp-statistics__column_content_interior">
                        <div class="pdp-statistics__column_header onlyShowDesk">
                            {%- if section.settings.heading != blank -%}<div class="pdp-statistics__column_heading style-hdng">{{ section.settings.heading }}</div>{%- endif -%}
                        </div>
                        <div class="pdp-statistics__column_list">
                            {%- for block in section.blocks -%}
                            <div class="pdp-statistics__column_list_item">
                                {%- if block.settings.count != blank -%}
                                <div class="pdp-statistics__column_number counter-animate pdp-statistics__column_number" data-target="{{ block.settings.count }}" data-duration="2000" data-delay="200">
                                    {{ block.settings.count  }}
                                </div>
                                {%- endif -%}
                                <div class="pdp-statistics__column_text">
                                    {%- if block.settings.title != blank -%}
                                        <div class="pdp-statistics__column_title text-color">{{ block.settings.title }}</div>
                                    {%- endif -%}
                                    {%- if block.settings.paragraph != blank -%}
                                        <div class="pdp-statistics__column_description text-color">{{ block.settings.paragraph }}</div>
                                    {%- endif -%}
                                </div>
                            </div>
                            {%- endfor -%}
                        </div>
                        {%- if section.settings.disclaimer != blank -%}
                        <div class="pdp-statistics__column_studies-disclaimer">
                            <div class="studies-disclaimer-content">
                                <div class="disclaimer-icon">
                                    <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 416.979 416.979"><path d="M356.004 61.156c-81.37-81.47-213.377-81.551-294.848-.182-81.47 81.371-81.552 213.379-.181 294.85 81.369 81.47 213.378 81.551 294.849.181 81.469-81.369 81.551-213.379.18-294.849M237.6 340.786a5.82 5.82 0 0 1-5.822 5.822h-46.576a5.82 5.82 0 0 1-5.822-5.822V167.885a5.82 5.82 0 0 1 5.822-5.822h46.576a5.82 5.82 0 0 1 5.822 5.822zm-29.11-202.885c-18.618 0-33.766-15.146-33.766-33.765 0-18.617 15.147-33.766 33.766-33.766s33.766 15.148 33.766 33.766c0 18.619-15.149 33.765-33.766 33.765"/></svg>
                                </div>
                                <p class="studies-disclaimer-text text-color">{{ section.settings.disclaimer }}</p>
                            </div>
                        </div>
                        {%- endif -%}
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .col-pdp-{{ section.id }} .pdp-statistics__column_heading hig {
        color: rgb(var(--color-sale-badge))!important;

    }
    .col-pdp-{{ section.id }} .pdp-statistics__column_number {
        color: rgb(var(--color-sale-badge))!important;
    }
</style>